<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Reach Analyzer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #0a0e1a;
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 80px 20px 20px 240px; /* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ†ã®å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°èª¿æ•´ */
        }

        /* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .sidebar {
            position: fixed;
            top: 60px; /* ãƒ˜ãƒƒãƒ€ãƒ¼é«˜ã•åˆ†ä¸‹ã’ã‚‹ */
            left: 0;
            width: 220px;
            height: calc(100vh - 60px);
            background: #0f1722;
            border-right: 1px solid #1a2332;
            overflow-y: auto;
            z-index: 999;
            padding: 15px 0;
        }

        .sidebar-section {
            margin-bottom: 15px;
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-item {
            margin-bottom: 1px;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            color: #c9d1d9;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 14px;
            border-left: 3px solid transparent;
        }

        .sidebar-link:hover {
            background: #1a2332;
            color: #00d4ff;
            border-left-color: #00d4ff;
        }

        .sidebar-link.active {
            background: #1a2332;
            color: #00d4ff;
            border-left-color: #00d4ff;
        }

        .sidebar-icon {
            margin-right: 12px;
            font-size: 16px;
        }


        /* ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .sidebar-submenu {
            list-style: none;
            padding: 0;
            margin: 0;
            display: none;
            background: #0a0e1a;
        }

        .sidebar-submenu.open {
            display: block;
        }

        .sidebar-submenu .sidebar-link {
            padding: 8px 20px 8px 52px;
            font-size: 13px;
            color: #7a8a9a;
        }

        .sidebar-submenu .sidebar-link:hover {
            color: #00d4ff;
        }

        .sidebar-toggle {
            margin-left: auto;
            transition: transform 0.3s ease;
        }

        .sidebar-toggle.open {
            transform: rotate(90deg);
        }

        /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: #c9d1d9;
            font-size: 20px;
            cursor: pointer;
            padding: 8px;
            margin-right: 15px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .menu-toggle:hover {
            background: #1a2332;
            color: #00d4ff;
        }

        /* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
        }

        .sidebar-overlay.active {
            display: block;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: #0a0e1a;
            border-bottom: 1px solid #1a2332;
            z-index: 1000;
            height: 60px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-size: 18px;
            font-weight: bold;
            background: linear-gradient(45deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: #7a8a9a;
            font-size: 12px;
            font-weight: normal;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        /* ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ± */
        .account-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .user-name {
            color: #ffffff;
            font-size: 14px;
            font-weight: 500;
        }


        /* ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæƒ…å ± */
        .credit-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .credit-label {
            color: #7a8a9a;
            font-size: 12px;
        }

        .credit-value {
            color: #00d4ff;
            font-size: 14px;
            font-weight: 600;
        }

        /* ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .user-menu {
            position: relative;
        }

        .user-menu-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: #1a2332;
            border: 2px solid #2a3a4a;
            color: #c9d1d9;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            position: relative;
        }

        .user-menu-btn:hover {
            border-color: #00d4ff;
            background: #00d4ff;
            color: #0a0e1a;
            transform: scale(1.05);
        }

        .user-menu-btn.active {
            border-color: #00d4ff;
            background: #00d4ff;
            color: #0a0e1a;
        }

        .user-avatar {
            font-size: 18px;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 8px;
            background: #0f1722;
            border: 1px solid #2a3a4a;
            border-radius: 12px;
            padding: 8px 0;
            min-width: 180px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1002;
        }

        .user-dropdown.show {
            display: block;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 16px;
            color: #c9d1d9;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .dropdown-item:hover {
            background: #1a2332;
            color: #00d4ff;
        }

        .dropdown-icon {
            font-size: 16px;
        }

        .dropdown-divider {
            height: 1px;
            background: #2a3a4a;
            margin: 8px 0;
        }
        
        /* å…è²¬äº‹é … */
        .disclaimer {
            background: #1a2332;
            border-radius: 10px;
            padding: 20px;
            margin-top: 40px;
            text-align: left;
        }
        
        .disclaimer h3 {
            color: #7a8a9a;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .disclaimer ul {
            color: #c9d1d9;
            margin-left: 20px;
            line-height: 1.6;
        }
        
        .disclaimer li {
            margin-bottom: 8px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            background: linear-gradient(45deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* æ–¹å‘æ€§ã‚¹ã‚³ã‚¢è¡¨ç¤º */
        .score-section {
            background: linear-gradient(135deg, #1a2332 0%, #0f1722 100%);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
        }

        .score-title {
            font-size: 20px;
            color: #7a8a9a;
            margin-bottom: 20px;
        }

        .score-meter {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .meter-background {
            height: 60px;
            background: linear-gradient(to right, #ff3b3b, #ff6b6b 30%, #ffdd00 50%, #90ee90 70%, #00ff00);
            border-radius: 30px;
            position: relative;
            overflow: hidden;
            opacity: 0.3;
        }

        .meter-value {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 50%;
            width: 4px;
            height: 80px;
            background: #ffffff;
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transition: left 0.5s ease-out;
        }

        .score-display {
            font-size: 72px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .score-positive {
            color: #00ff00;
        }

        .score-negative {
            color: #ff3b3b;
        }

        .score-direction {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .score-labels {
            display: flex;
            justify-content: space-between;
            color: #7a8a9a;
            font-size: 14px;
            margin-top: 10px;
        }

        /* æ™‚é–“è¶³åˆ¥ã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰ */
        .timeframe-score-card {
            background: linear-gradient(135deg, #1a2332 0%, #0f1722 100%);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(42, 58, 74, 0.3);
            position: relative;
            overflow: hidden;
        }

        .timeframe-score-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.5);
        }

        .timeframe-label {
            color: #7a8a9a;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timeframe-meter {
            position: relative;
            height: 12px;
            background: #0f1722;
            border-radius: 6px;
            margin: 15px 0;
            overflow: hidden;
            border: 1px solid rgba(42, 58, 74, 0.5);
        }

        .timeframe-meter-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, #ff3b3b 0%, #ff6b6b 25%, #ffdd00 50%, #90ee90 75%, #00ff00 100%);
            opacity: 0.2;
        }

        .timeframe-meter-fill {
            position: absolute;
            top: 0;
            left: 50%;
            height: 100%;
            border-radius: 5px;
            transition: width 0.8s ease;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }

        /* è² ã®ã‚¹ã‚³ã‚¢ç”¨ï¼ˆå·¦å´ã«è¡¨ç¤ºï¼‰ */
        .timeframe-meter-fill.negative {
            right: 50%;
            left: auto;
            transform-origin: right;
        }

        .timeframe-score-value {
            font-size: 32px;
            font-weight: bold;
            margin: 15px 0 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .timeframe-direction {
            color: #c9d1d9;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 16px;
            background: rgba(42, 58, 74, 0.3);
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
        }

        /* æ™‚é–“è¶³é‡è¦åº¦ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
        .timeframe-score-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--importance-color, #2a3a4a);
        }

        /* æ™‚é–“è¶³é‡è¦åº¦ãƒ¬ãƒ™ãƒ« */
        .timeframe-score-card.high-importance::before,
        .timeframe-score-card.medium-importance::before,
        .timeframe-score-card.low-importance::before {
            background: linear-gradient(45deg, #7a8a9a, #5a6a7a);
        }

        /* ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .user-selection {
            background: #1a2332;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .selection-title {
            font-size: 18px;
            color: #00d4ff;
            margin-bottom: 20px;
            text-align: center;
        }

        /* æ–¹å‘é¸æŠãƒœã‚¿ãƒ³ */
        .direction-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .dir-btn {
            padding: 16px 20px;
            border: 2px solid #2a3a4a;
            background: #0f1722;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
            font-size: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dir-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .dir-btn.buy {
            color: #00ff00;
        }

        .dir-btn.buy.active {
            background: linear-gradient(135deg, #00ff0015, #00ff0008);
            border-color: #00ff00;
            box-shadow: 0 0 12px rgba(0, 255, 0, 0.2);
        }

        .dir-btn.sell {
            color: #ff3b3b;
        }

        .dir-btn.sell.active {
            background: linear-gradient(135deg, #ff3b3b15, #ff3b3b08);
            border-color: #ff3b3b;
            box-shadow: 0 0 12px rgba(255, 59, 59, 0.2);
        }

        /* Pipsé¸æŠ */
        .pips-selection {
            margin-bottom: 30px;
        }

        .pips-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .pips-value {
            font-size: 16px;
            font-weight: 700;
            color: #00d4ff;
        }

        .slider-container {
            position: relative;
            margin-bottom: 12px;
            padding: 8px 6px;
            background: rgba(26, 35, 50, 0.2);
            border-radius: 8px;
            border: 1px solid rgba(42, 58, 74, 0.3);
        }

        .pips-slider {
            width: 100%;
            height: 32px;
            -webkit-appearance: none;
            appearance: none;
            background: transparent;
            outline: none;
            cursor: pointer;
            position: relative;
            vertical-align: middle; /* å‚ç›´ä¸­å¤®æƒãˆ */
        }

        .pips-slider::-webkit-slider-track {
            width: 100%;
            height: 12px;
            background: linear-gradient(to right, #1a2332 0%, #2a3a4a 50%, #3a4a5a 100%);
            border-radius: 6px;
            border: 1px solid #0a1220;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .pips-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            background: linear-gradient(145deg, #00d4ff, #0099ff);
            border: 2px solid #ffffff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 212, 255, 0.4), 0 1px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.2s ease;
            margin-top: -8px; /* ãƒˆãƒ©ãƒƒã‚¯ã¨ã®ç›¸å¯¾çš„ãªé…ç½® */
        }

        .pips-slider::-webkit-slider-thumb:hover {
            background: linear-gradient(145deg, #00ffff, #00d4ff);
            box-shadow: 0 6px 16px rgba(0, 212, 255, 0.8), 0 3px 8px rgba(0, 0, 0, 0.4);
            transform: scale(1.1);
        }

        .pips-slider::-webkit-slider-thumb:active {
            background: linear-gradient(145deg, #0099ff, #007acc);
            transform: scale(0.95);
        }

        .pips-slider::-moz-range-track {
            width: 100%;
            height: 12px;
            background: linear-gradient(to right, #1a2332 0%, #2a3a4a 50%, #3a4a5a 100%);
            border-radius: 6px;
            border: 1px solid #0a1220;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .pips-slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            background: linear-gradient(145deg, #00d4ff, #0099ff);
            border: 2px solid #ffffff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 212, 255, 0.6), 0 2px 6px rgba(0, 0, 0, 0.3);
            transition: all 0.2s ease;
            border: none; /* borderé‡è¤‡ã‚’å‰Šé™¤ */
        }

        .pips-slider::-moz-range-thumb:hover {
            background: linear-gradient(145deg, #00ffff, #00d4ff);
            box-shadow: 0 6px 16px rgba(0, 212, 255, 0.8), 0 3px 8px rgba(0, 0, 0, 0.4);
            transform: scale(1.1);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            color: #7a8a9a;
            font-size: 10px;
            margin-top: 6px;
            padding: 0 4px;
            font-weight: 500;
        }

        /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼åŠ¹æœ */
        .slider-container {
            position: relative;
            margin: 8px 0;
            height: 32px;
            /* flexboxã‚’å‰Šé™¤ã—ã¦ç›´æ¥é…ç½® */
        }

        .slider-progress {
            position: absolute;
            top: 50%;
            left: 14px; /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ã¤ã¾ã¿åŠå¾„åˆ†èª¿æ•´ */
            height: 12px;
            background: linear-gradient(to right, #00d4ff, #0099ff);
            border-radius: 6px;
            transform: translateY(-50%);
            transition: none; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° */
            pointer-events: none;
            z-index: 1;
            width: 0;
        }

        .pips-slider {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            z-index: 2;
            width: 100%;
            height: 32px;
        }

        /* å‹ç‡è¨ˆç®—çµæœ */
        .result-section {
            background: linear-gradient(135deg, #1a2332 0%, #0f1722 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
            border: 1px solid #00d4ff;
            box-shadow: 0 4px 12px rgba(0, 212, 255, 0.1);
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            text-align: center;
        }

        .result-item h3 {
            color: #7a8a9a;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .result-value {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .win-rate {
            color: #00ff00;
        }

        .loss-rate {
            color: #ff3b3b;
        }

        .result-detail {
            color: #7a8a9a;
            font-size: 14px;
        }

        /* è¨ˆç®—ãƒœã‚¿ãƒ³ */
        .calc-button {
            display: block;
            width: 100%;
            max-width: 320px;
            margin: 16px auto 0;
            padding: 16px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            color: #ffffff;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0, 212, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .calc-button:hover {
            background: linear-gradient(135deg, #00ffff, #00d4ff);
            transform: translateY(-1px);
            box-shadow: 0 4px 16px rgba(0, 212, 255, 0.4);
        }

        .calc-button:disabled {
            background: #2a3a4a;
            color: #7a8a9a;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.6;
        }

        /* è¿½åŠ æƒ…å ± */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            background: #1a2332;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .info-title {
            color: #7a8a9a;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .info-value {
            font-size: 24px;
            font-weight: bold;
            color: #ffffff;
        }

        /* å¤§ç”»é¢å¯¾å¿œ */
        @media (min-width: 1600px) {
            .container {
                max-width: 1800px;
                padding: 80px 30px 20px 250px;
            }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1200px) {
            /* ä¸­ç”»é¢ã§ã¯2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¸¦ã«å¤‰æ›´ */
            .container > div:first-of-type {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }
            
            .container > div:first-of-type > div:first-child {
                order: 1;
            }
            
            .container > div:first-of-type > div:last-child {
                order: 2;
            }
        }

        @media (max-width: 768px) {
            /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º */
            .menu-toggle {
                display: block;
            }

            /* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’éš ã™ */
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                z-index: 1001;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .header {
                padding: 10px 15px;
                height: 50px;
            }

            .container {
                padding: 70px 15px 15px 15px; /* ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”¨ã®å·¦ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å‰Šé™¤ */
            }

            .logo {
                font-size: 16px;
            }

            .subtitle {
                font-size: 11px;
            }

            .header-right {
                gap: 15px;
            }

            .user-name {
                font-size: 13px;
            }

            /* 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¸¦ä¸¦ã³ã« */
            .container > div:first-of-type {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }

            .score-display {
                font-size: 48px;
            }

            .result-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .result-value {
                font-size: 28px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .direction-buttons {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .dir-btn {
                padding: 14px 10px;
                font-size: 14px;
            }
            
            /* ãƒãƒ£ãƒ¼ãƒˆã®é«˜ã•ã‚’ãƒ¢ãƒã‚¤ãƒ«ã§èª¿æ•´ */
            .container div[style*="height: 600"] {
                height: 400px !important;
            }
            
            /* æ™‚é–“è¶³ã‚¹ã‚³ã‚¢è¡¨ç¤ºã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
            .timeframe-scores {
                flex-direction: column !important;
                align-items: flex-start !important;
                gap: 8px !important;
            }
            
            .timeframe-scores-values {
                justify-content: flex-start !important;
                gap: 10px !important;
            }
            
            .timeframe-scores-values span {
                font-size: 12px !important;
            }
        }

        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .loading-screen {
            background: #1a2332;
            border-radius: 20px;
            height: 100%;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-spinner {
            margin-bottom: 20px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #2a3a4a;
            border-top: 4px solid #00d4ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-progress {
            width: 200px;
            height: 4px;
            background: #2a3a4a;
            border-radius: 2px;
            margin: 20px auto;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099ff);
            border-radius: 2px;
            animation: progress 3s ease-in-out infinite;
        }

        @keyframes progress {
            0% { width: 0%; transform: translateX(-100%); }
            50% { width: 100%; transform: translateX(0%); }
            100% { width: 100%; transform: translateX(100%); }
        }

        /* TradingView OHLCå€¤ã®ã¿éè¡¨ç¤ºï¼ˆã‚·ãƒ³ãƒœãƒ«åã¯è¡¨ç¤ºã‚’ç¶­æŒï¼‰ */
        .tv-legend__values,
        .chart-markup-table .series-ohlc,
        [data-name="legend-source-item"] .js-legend-series-item:not(.js-legend-title) {
            display: none !important;
            visibility: hidden !important;
        }

        /* å‡ºæ¥é«˜è¡¨ç¤ºã‚’éè¡¨ç¤º */
        [class*="volume"] {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
                <h1 class="logo">Market Reach Analyzer</h1>
            </div>
            
            <div class="header-right">
                <!-- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæƒ…å ± -->
                <div class="credit-info">
                    <span class="credit-label">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ</span>
                    <span class="credit-value" id="creditDisplay">100/300</span>
                </div>
                
                <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
                <div class="user-menu">
                    <button class="user-menu-btn" onclick="toggleUserMenu(this)">
                        <span class="user-avatar">ğŸ‘¤</span>
                    </button>
                    <div class="user-dropdown">
                        <div style="padding: 12px 16px; border-bottom: 1px solid #2a3a4a; margin-bottom: 8px;">
                            <div style="color: #ffffff; font-weight: 600; margin-bottom: 4px;">ç”°ä¸­å¤ªéƒ</div>
                            <div style="color: #7a8a9a; font-size: 12px;">Proãƒ—ãƒ©ãƒ³</div>
                        </div>
                        <a href="#" class="dropdown-item">
                            <span class="dropdown-icon">ğŸ‘¤</span>
                            ãƒã‚¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
                        </a>
                        <a href="#" class="dropdown-item">
                            <span class="dropdown-icon">âš™ï¸</span>
                            ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item">
                            <span class="dropdown-icon">ğŸšª</span>
                            ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

        <!-- ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
        <nav class="sidebar" id="sidebar">
            <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link active">
                            <span class="sidebar-icon">ğŸ </span>
                            ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
                        </a>
                    </li>
                </ul>
            </div>

            <!-- AIãƒ¬ãƒãƒ¼ãƒˆ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link" onclick="toggleSubmenu(this)">
                            <span class="sidebar-icon">ğŸ“„</span>
                            AIãƒ¬ãƒãƒ¼ãƒˆ
                        </a>
                        <ul class="sidebar-submenu">
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“…</span>ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“Š</span>é€±æ¬¡ãƒãƒ¼ã‚±ãƒƒãƒˆåˆ†æ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ¯</span>æ³¨ç›®éŠ˜æŸ„ãƒ¬ãƒãƒ¼ãƒˆ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“ˆ</span>ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸŒ</span>ãƒã‚¯ãƒ­çµŒæ¸ˆãƒ¬ãƒãƒ¼ãƒˆ</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- ã‚¢ãƒ©ãƒ¼ãƒˆ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link" onclick="toggleSubmenu(this)">
                            <span class="sidebar-icon">ğŸ¯</span>
                            ã‚¢ãƒ©ãƒ¼ãƒˆ
                        </a>
                        <ul class="sidebar-submenu">
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“¢</span>ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¢ãƒ©ãƒ¼ãƒˆ (3)</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">â•</span>æ–°è¦ã‚¢ãƒ©ãƒ¼ãƒˆä½œæˆ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“Š</span>ã‚¢ãƒ©ãƒ¼ãƒˆå±¥æ­´</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- ãƒã‚¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link" onclick="toggleSubmenu(this)">
                            <span class="sidebar-icon">ğŸ’¼</span>
                            ãƒã‚¤ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
                        </a>
                        <ul class="sidebar-submenu">
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“Š</span>åˆ†æå±¥æ­´</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ’³</span>ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆç®¡ç†</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“ˆ</span>åˆ©ç”¨çµ±è¨ˆ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">âš™ï¸</span>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸŒ</span>è¨€èªè¨­å®š</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- å­¦ç¿’ã‚»ãƒ³ã‚¿ãƒ¼ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link" onclick="toggleSubmenu(this)">
                            <span class="sidebar-icon">ğŸ“š</span>
                            å­¦ç¿’ã‚»ãƒ³ã‚¿ãƒ¼
                        </a>
                        <ul class="sidebar-submenu">
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“</span>åŸºæœ¬ã‚¬ã‚¤ãƒ‰</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“–</span>ã‚¹ã‚³ã‚¢è§£èª¬</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ¥</span>ä½¿ã„æ–¹å‹•ç”»</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">â“</span>FAQ</a></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- ã‚µãƒãƒ¼ãƒˆ -->
            <div class="sidebar-section">
                <ul class="sidebar-menu">
                    <li class="sidebar-item">
                        <a href="#" class="sidebar-link" onclick="toggleSubmenu(this)">
                            <span class="sidebar-icon">ğŸ†˜</span>
                            ã‚µãƒãƒ¼ãƒˆ
                        </a>
                        <ul class="sidebar-submenu">
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ’¬</span>ãƒãƒ£ãƒƒãƒˆã‚µãƒãƒ¼ãƒˆ</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ“§</span>ãŠå•ã„åˆã‚ã›</a></li>
                            <li><a href="#" class="sidebar-link"><span class="sidebar-icon">ğŸ›</span>ä¸å…·åˆå ±å‘Š</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: ãƒãƒ£ãƒ¼ãƒˆ + ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ« -->
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-bottom: 30px;">
            <!-- å·¦ã‚«ãƒ©ãƒ : TradingViewãƒãƒ£ãƒ¼ãƒˆ -->
            <div style="background: #1a2332; border-radius: 20px; padding: 20px;">
                
                <!-- æ™‚é–“è¶³åˆ¥ã‚¹ã‚³ã‚¢è¡¨ç¤º -->
                <div style="background: #0f1722; border-radius: 8px; padding: 12px; margin-bottom: 20px; border: 1px solid #2a3a4a;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                        <span style="color: #7a8a9a; font-size: 13px; font-weight: 500;">æ™‚é–“è¶³åˆ¥æ–¹å‘æ€§ã‚¹ã‚³ã‚¢:</span>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <span style="color: #ff3b3b; font-size: 13px; font-weight: 600;">5åˆ†è¶³: -15</span>
                            <span style="color: #ffdd00; font-size: 13px; font-weight: 600;">15åˆ†è¶³: +25</span>
                            <span style="color: #00ff00; font-size: 13px; font-weight: 600;">1æ™‚é–“è¶³: +67</span>
                            <span style="color: #00ff00; font-size: 13px; font-weight: 600;">4æ™‚é–“è¶³: +78</span>
                            <span style="color: #00ff00; font-size: 13px; font-weight: 600;">æ—¥è¶³: +85</span>
                        </div>
                    </div>
                </div>
                
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div id="tradingview_btc"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                    <script type="text/javascript">
                    new TradingView.widget(
                    {
                        "width": "100%",
                        "height": 600,
                        "symbol": "COINBASE:BTCUSD",
                        "interval": "60",
                        "timezone": "Asia/Tokyo",
                        "theme": "dark",
                        "style": "1",
                        "locale": "ja",
                        "enable_publishing": false,
                        "allow_symbol_change": true,
                        "container_id": "tradingview_btc",
                        "drawings_access": {
                            "type": "black",
                            "tools": [
                                { "name": "Regression Trend" },
                                { "name": "Trend Line" },
                                { "name": "Horizontal Line" },
                                { "name": "Vertical Line" },
                                { "name": "Cross Line" },
                                { "name": "Rectangle" },
                                { "name": "Circle" },
                                { "name": "Arrow" },
                                { "name": "Text" },
                                { "name": "Note" },
                                { "name": "Fibonacci Retracement" },
                                { "name": "Fibonacci Extension" },
                                { "name": "Price Range" },
                                { "name": "Measure" }
                            ]
                        },
                        "enabled_features": [
                            "study_templates",
                            "use_localstorage_for_settings",
                            "save_chart_properties_to_local_storage",
                            "chart_property_page_style",
                            "chart_template",
                            "timeframes_toolbar",
                            "header_symbol_search",
                            "header_resolutions",
                            "header_chart_type",
                            "header_settings",
                            "left_toolbar",
                            "control_bar",
                            "timeframes_toolbar",
                            "edit_buttons_in_legend"
                        ],
                        "disabled_features": [
                            "popup_hints",
                            "header_saveload",
                            "header_screenshot",
                            "header_undo_redo",
                            "display_market_status",
                            "legend_context_menu",
                            "show_hide_button_in_legend",
                            "legend_widget",
                            "volume_force_overlay"
                        ],
                        "toolbar_bg": "#1a2332",
                        "hide_side_toolbar": false,
                        "overrides": {
                            "mainSeriesProperties.showCountdown": false,
                            "mainSeriesProperties.showPrevClose": false,
                            "paneProperties.legendProperties.showSeriesOHLC": false,
                            "paneProperties.legendProperties.showSeriesTitle": true,
                            "volumePaneSize": "amin",
                            "scalesProperties.showSeriesLastValue": true,
                            "scalesProperties.showSeriesOHLC": false
                        },
                        "hide_volume": true
                    }
                    );
                    </script>
                </div>
                <!-- TradingView Widget END -->
            </div>

            <!-- å³ã‚«ãƒ©ãƒ : æŠ•è³‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ« -->
            <div class="user-selection" id="userSelection">
            
            <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
            <div class="loading-screen" id="loadingScreen" style="display: none;">
                <div style="text-align: center; padding: 60px 20px;">
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                    </div>
                    <div style="color: #00d4ff; font-size: 18px; font-weight: 600; margin-top: 20px;">
                        åˆ†æä¸­...
                    </div>
                    <div style="color: #7a8a9a; font-size: 13px; margin-top: 8px;">
                        å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦ã„ã¾ã™
                    </div>
                    <div class="loading-progress">
                        <div class="progress-bar"></div>
                    </div>
                    <div style="color: #7a8a9a; font-size: 12px; margin-top: 20px;">
                        ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ã¯æ•°ç§’ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
                    </div>
                </div>
            </div>
            
            <!-- ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆé€šå¸¸ç”»é¢ï¼‰ -->
            <div class="simulation-content" id="simulationContent">
            
            <!-- ç¾åœ¨ä¾¡æ ¼è¡¨ç¤º -->
            <div style="background: #0f1722; border-radius: 8px; padding: 16px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                <div style="color: #7a8a9a; font-size: 12px;">ç¾åœ¨ã®BTC/USDä¾¡æ ¼(Coinbase)</div>
                <div style="color: #00d4ff; font-size: 24px; font-weight: 700;" id="currentBtcPrice">$--,---</div>
            </div>
            
            <!-- æ–¹å‘é¸æŠ -->
            <div class="direction-buttons">
                <button class="dir-btn buy" onclick="selectDirection('buy')">
                    <span style="font-size: 18px; margin-right: 8px;">â†‘</span>
                    <span style="font-size: 14px;">è²·ã„</span>
                </button>
                <button class="dir-btn sell" onclick="selectDirection('sell')">
                    <span style="font-size: 18px; margin-right: 8px;">â†“</span>
                    <span style="font-size: 14px;">å£²ã‚Š</span>
                </button>
            </div>

            <!-- TP/SL Pipsé¸æŠ -->
            <div class="pips-selection">
                <!-- TPè¨­å®š -->
                <div style="margin-bottom: 16px;">
                    <div class="pips-label">
                        <span style="color: #7a8a9a; font-size: 13px;">åˆ©ç¢ºå¹…ï¼ˆTPï¼‰</span>
                        <span class="pips-value" id="tpPipsValue" style="font-size: 14px; font-weight: 600;">100 pips</span>
                    </div>
                    <div style="background: #0a0e1a; border-radius: 6px; padding: 8px; margin-bottom: 8px; text-align: center;">
                        <div style="color: #7a8a9a; font-size: 11px;">ç›®æ¨™ä¾¡æ ¼</div>
                        <div style="color: #00ff00; font-size: 16px; font-weight: 600;" id="tpPriceLevel">$--,---</div>
                    </div>
                    <div class="slider-container">
                        <div class="slider-progress" id="tpProgressBar"></div>
                        <input type="range" class="pips-slider" id="tpPipsSlider" 
                               min="100" max="10000" value="100" step="100"
                               oninput="updateTpPips(this.value)" 
                               onchange="updateTpPips(this.value)">
                    </div>
                    <div class="slider-labels">
                        <span>100</span>
                        <span>2500</span>
                        <span>5000</span>
                        <span>7500</span>
                        <span>10000</span>
                    </div>
                </div>

                <!-- SLè¨­å®š -->
                <div style="margin-bottom: 16px;">
                    <div class="pips-label">
                        <span style="color: #7a8a9a; font-size: 13px;">æåˆ‡ã‚Šå¹…ï¼ˆSLï¼‰</span>
                        <span class="pips-value" id="slPipsValue" style="font-size: 14px; font-weight: 600;">100 pips</span>
                    </div>
                    <div style="background: #0a0e1a; border-radius: 6px; padding: 8px; margin-bottom: 8px; text-align: center;">
                        <div style="color: #7a8a9a; font-size: 11px;">ã‚¹ãƒˆãƒƒãƒ—ä¾¡æ ¼</div>
                        <div style="color: #ff3b3b; font-size: 16px; font-weight: 600;" id="slPriceLevel">$--,---</div>
                    </div>
                    <div class="slider-container">
                        <div class="slider-progress" id="slProgressBar"></div>
                        <input type="range" class="pips-slider" id="slPipsSlider" 
                               min="100" max="10000" value="100" step="100"
                               oninput="updateSlPips(this.value)"
                               onchange="updateSlPips(this.value)">
                    </div>
                    <div class="slider-labels">
                        <span>100</span>
                        <span>2500</span>
                        <span>5000</span>
                        <span>7500</span>
                        <span>10000</span>
                    </div>
                </div>

                <!-- ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”è¡¨ç¤º -->
                <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                    <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”</div>
                    <div style="font-size: 18px; font-weight: 700; color: #00d4ff;" id="riskRewardRatio">2.5 : 1</div>
                </div>
            </div>

            <button class="calc-button" id="calcButton" onclick="calculatePatternAnalysis()" disabled style="padding: 14px; font-size: 15px; font-weight: 600; margin-bottom: 16px;">
                åˆ†æå®Ÿè¡Œ
                <div style="font-size: 11px; font-weight: 400; color: #ffffff; margin-top: 2px;">1ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒæ¶ˆè²»ã•ã‚Œã¾ã™</div>
            </button>

            <!-- åˆ†æçµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå³ã‚«ãƒ©ãƒ å†…ï¼‰ -->
            <div class="result-section" id="resultSection" style="display: none; width: 100%; min-height: 400px; padding: 20px; background: #1a2332; border-radius: 15px; box-sizing: border-box; position: relative; z-index: 1000;">
                <h3 style="text-align: center; color: #00d4ff; margin-bottom: 20px; font-size: 18px;">
                    åˆ†æçµæœ
                </h3>
                
                <!-- ç¾åœ¨ä¾¡æ ¼ã¨TP/SLä½ç½® -->
                <div style="background: #0f1722; border-radius: 8px; padding: 16px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                    <div style="color: #7a8a9a; font-size: 12px;">ç¾åœ¨ã®BTC/USDä¾¡æ ¼(Coinbase)</div>
                    <div style="color: #00d4ff; font-size: 24px; font-weight: 700;" id="resultCurrentPrice">$--,---</div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                    <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                        <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">åˆ©ç¢ºä¾¡æ ¼ (TP)</div>
                        <div style="font-size: 16px; font-weight: 700; color: #00ff00;" id="resultTpPrice">$--,---</div>
                        <div style="color: #7a8a9a; font-size: 11px;" id="resultTpPips">-- pips</div>
                    </div>
                    <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                        <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">æåˆ‡ä¾¡æ ¼ (SL)</div>
                        <div style="font-size: 16px; font-weight: 700; color: #ff3b3b;" id="resultSlPrice">$--,---</div>
                        <div style="color: #7a8a9a; font-size: 11px;" id="resultSlPips">-- pips</div>
                    </div>
                </div>
                
                <div class="result-grid">
                    <div class="result-item">
                        <h3>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ°é”ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
                        <div class="result-value win-rate" id="tpRate">68%</div>
                    </div>
                    <div class="result-item">
                        <h3>ã‚¹ãƒˆãƒƒãƒ—åˆ°é”ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
                        <div class="result-value loss-rate" id="slRate">32%</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: #0f1722; border-radius: 8px;">
                    <h4 style="color: #00d4ff; margin-bottom: 12px; font-size: 14px;">è©³ç´°åˆ†æ</h4>
                    <div style="display: grid; gap: 8px; color: #c9d1d9; font-size: 12px;">
                        <div>â€¢ éå»ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: <span style="color: #00d4ff;">152ä»¶</span></div>
                        <div>â€¢ ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è‡´: <span style="color: #00ff00;">â—‹</span></div>
                        <div>â€¢ ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”: <span style="color: #00d4ff;" id="rrAnalysis">2.5:1</span></div>
                        <div>â€¢ æœŸå¾…å€¤: <span style="color: #00d4ff;" id="expectedValue">+12.6 pips</span></div>
                        <div>â€¢ äºˆæƒ³æ™‚é–“: <span style="color: #00d4ff;">ç´„2.5æ™‚é–“</span></div>
                    </div>
                </div>
                
                <!-- æ–°è¦åˆ†æãƒœã‚¿ãƒ³ -->
                <button onclick="resetToSimulation()" style="width: 100%; padding: 12px; margin-top: 20px; background: #2a3a4a; color: #ffffff; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.3s;" 
                        onmouseover="this.style.background='#3a4a5a'" onmouseout="this.style.background='#2a3a4a'">
                    æ–°ã—ã„åˆ†æã‚’å®Ÿè¡Œ
                </button>
            </div>
            </div> <!-- simulation-contentçµ‚äº† -->
            </div> <!-- user-selectionçµ‚äº† -->
        </div> <!-- 2ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçµ‚äº† -->

        <!-- ç›¸å ´çŠ¶æ³ -->
        <div style="background: #1a2332; border-radius: 12px; padding: 20px; margin-bottom: 24px; border: 1px solid rgba(42, 58, 74, 0.3);">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                <h3 style="color: #00d4ff; margin: 0; font-size: 16px; font-weight: 600;">ç›¸å ´çŠ¶æ³</h3>
                <span style="color: #00ff00; font-size: 13px; font-weight: 600; padding: 3px 8px; background: rgba(0, 255, 0, 0.1); border-radius: 12px; border: 1px solid rgba(0, 255, 0, 0.2);">ãƒˆãƒ¬ãƒ³ãƒ‰ç›¸å ´</span>
            </div>
            
            <!-- ç›¸å ´æŒ‡æ¨™ -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 16px;">
                <div style="background: #0f1722; border-radius: 8px; padding: 12px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.2);">
                    <div style="color: #7a8a9a; font-size: 11px; margin-bottom: 4px; font-weight: 500;">ATRï¼ˆå¹³å‡å¤‰å‹•å¹…ï¼‰</div>
                    <div style="color: #00d4ff; font-size: 16px; font-weight: 700;">$425</div>
                </div>
                <div style="background: #0f1722; border-radius: 8px; padding: 12px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.2);">
                    <div style="color: #7a8a9a; font-size: 11px; margin-bottom: 4px; font-weight: 500;">é¡ä¼¼åº¦ã‚¹ã‚³ã‚¢</div>
                    <div style="color: #00ff00; font-size: 16px; font-weight: 700;">87%</div>
                </div>
                <div style="background: #0f1722; border-radius: 8px; padding: 12px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.2);">
                    <div style="color: #7a8a9a; font-size: 11px; margin-bottom: 4px; font-weight: 500;">ãƒˆãƒ¬ãƒ³ãƒ‰å¼·åº¦</div>
                    <div style="color: #00ff00; font-size: 16px; font-weight: 700;">å¼·ã„</div>
                </div>
            </div>
            
            <!-- é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆ -->
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <div style="display: flex; align-items: center; gap: 15px; padding: 10px; background: #0f1722; border-radius: 8px;">
                    <div style="width: 40px; height: 40px; background: #00d4ff20; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #00d4ff; font-weight: bold;">ğŸ“Š</div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; margin-bottom: 2px;">ç±³CPIç™ºè¡¨</div>
                        <div style="color: #7a8a9a; font-size: 12px;">æ®‹ã‚Š4æ™‚é–“23åˆ†</div>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px; padding: 10px; background: #0f1722; border-radius: 8px;">
                    <div style="width: 40px; height: 40px; background: #00d4ff20; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #00d4ff; font-weight: bold;">ğŸ’°</div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; margin-bottom: 2px;">ETFè³‡é‡‘æµå…¥</div>
                        <div style="color: #7a8a9a; font-size: 12px;">+$285Mï¼ˆç›´è¿‘24hï¼‰</div>
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 15px; padding: 10px; background: #0f1722; border-radius: 8px;">
                    <div style="width: 40px; height: 40px; background: #00d4ff20; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #00d4ff; font-weight: bold;">ğŸ‹</div>
                    <div style="flex: 1;">
                        <div style="font-weight: bold; margin-bottom: 2px;">å¤§å£æ³¨æ–‡å¢—åŠ </div>
                        <div style="color: #7a8a9a; font-size: 12px;">$43,000ä»˜è¿‘ã«è²·ã„æ³¨æ–‡é›†ä¸­</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AIç·åˆè§£èª¬ -->
        <div style="background: #1a2332; border-radius: 15px; padding: 25px;">
            <h3 style="color: #00d4ff; margin-bottom: 15px;">AIç·åˆè§£èª¬</h3>
            <p style="color: #c9d1d9; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                ç¾åœ¨ã®BTCå¸‚å ´ã¯æ˜ç¢ºãªä¸Šæ˜‡ãƒˆãƒ¬ãƒ³ãƒ‰ç’°å¢ƒã«ã‚ã‚Šã¾ã™ã€‚æ–¹å‘æ€§ã‚¹ã‚³ã‚¢+44ã¯è²·ã„å„ªå‹¢ã‚’ç¤ºã—ã¦ãŠã‚Šã€ETFã¸ã®ç¶™ç¶šçš„ãªè³‡é‡‘æµå…¥ï¼ˆ+$285Mï¼‰ã¨å¤§å£æ³¨æ–‡ã®è²·ã„é›†ä¸­ã«ã‚ˆã‚Šéœ€çµ¦ãƒãƒ©ãƒ³ã‚¹ã¯è‰¯å¥½ã§ã™ã€‚é¡ä¼¼åº¦ã‚¹ã‚³ã‚¢87%ã¯éå»ã®æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã¨é«˜ã„ä¸€è‡´ç‡ã‚’ç¤ºã—ã¦ãŠã‚Šã€ãƒˆãƒ¬ãƒ¼ãƒ‰ç²¾åº¦å‘ä¸ŠãŒæœŸå¾…ã§ãã¾ã™ã€‚
            </p>
            <p style="color: #c9d1d9; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                ãŸã ã—ã€4æ™‚é–“23åˆ†å¾Œã®CPIç™ºè¡¨ã‚’æ§ãˆã¦ãŠã‚Šã€æŒ‡æ¨™çµæœæ¬¡ç¬¬ã§ã¯çŸ­æœŸçš„ãªå¤‰å‹•ãŒäºˆæƒ³ã•ã‚Œã¾ã™ã€‚ATRã¯$425ã¨é©åº¦ãªãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ç¤ºã—ã¦ã„ã‚‹ãŸã‚ã€20-30pipså¹…ã§ã®ãƒ‡ã‚¤ãƒˆãƒ¬ãƒ¼ãƒ‰ãŒæœ€é©ã¨åˆ¤æ–­ã•ã‚Œã¾ã™ã€‚ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰å¼·åº¦ã¯ã€Œå¼·ã„ã€çŠ¶æ³ã§ã‚ã‚Šã€æŠ¼ã—ç›®ã§ã®è²·ã„ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãŒæœ‰åŠ¹ãªæˆ¦ç•¥ã¨ãªã‚Šã¾ã™ã€‚
            </p>
            <div style="padding: 15px; background: #0f1722; border-radius: 10px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <span style="color: #7a8a9a; font-size: 14px;">ãƒ‡ãƒ¼ã‚¿åˆ†æçµæœ</span>
                    <span style="color: #00ff00; font-weight: bold; font-size: 18px;">ä¸Šæ˜‡å‚¾å‘ã‚’æ¤œå‡º</span>
                </div>
                <div style="font-size: 14px; color: #7a8a9a;">
    ãƒˆãƒ¬ãƒ³ãƒ‰ç’°å¢ƒè‰¯å¥½ Ã— é«˜é¡ä¼¼åº¦ Ã— é©æ­£ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ â†’ ä¸Šæ˜‡ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡º
                </div>
            </div>
        </div>

        <!-- ã‚¹ã‚³ã‚¢æ§‹æˆè¦ç´  -->
        <h3 style="color: #00d4ff; margin: 40px 0 20px 0;">ã‚¹ã‚³ã‚¢æ§‹æˆè¦ç´ </h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">

            <!-- å¸‚å ´è³‡é‡‘å¾ªç’° -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">å¸‚å ´è³‡é‡‘å¾ªç’°</span>
                    <span style="font-size: 24px; font-weight: bold; color: #00ff00;">+75</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 75%; background: linear-gradient(to right, #00d4ff, #00ff00); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">æ ªå¼å¸‚å ´å¥½èª¿ã€ãƒªã‚¹ã‚¯ã‚ªãƒ³ç’°å¢ƒ</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">S&P500ï¼ˆ3æ—¥å¤‰åŒ–ï¼‰</span>
                        <span>+2.1%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">ç±³10å¹´å‚µåˆ©å›ã‚Š</span>
                        <span>4.12% â†“</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">ãƒ‰ãƒ«æŒ‡æ•°ï¼ˆDXYï¼‰</span>
                        <span>-0.5%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">é‡‘ï¼ˆXAU/USDï¼‰</span>
                        <span>-1.2%</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    æ ªå¼å¸‚å ´ã®ä¸Šæ˜‡ã¨ãƒ‰ãƒ«å®‰ã€ã•ã‚‰ã«é‡‘ãŒå£²ã‚‰ã‚Œã¦ã„ã‚‹çŠ¶æ³ã¯ã€å…¸å‹çš„ãªãƒªã‚¹ã‚¯ã‚ªãƒ³ç›¸å ´ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚æŠ•è³‡å®¶ã®ãƒªã‚¹ã‚¯é¸å¥½å§¿å‹¢ãŒå¼·ãã€æ ªå¼ã‚„æš—å·è³‡ç”£ãªã©ã®ãƒªã‚¹ã‚¯è³‡ç”£ã«è³‡é‡‘ãŒå‘ã‹ã„ã‚„ã™ã„ç’°å¢ƒã§ã™ã€‚
                </div>
            </div>

            <!-- BTCéœ€çµ¦ -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">BTCéœ€çµ¦</span>
                    <span style="font-size: 24px; font-weight: bold; color: #00ff00;">+85</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 85%; background: linear-gradient(to right, #00d4ff, #00ff00); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">ETFç¶™ç¶šæµå…¥ã€å–å¼•æ‰€æ®‹é«˜æ¸›å°‘</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">ETFç´”æµå…¥ï¼ˆæ—¥æ¬¡ï¼‰</span>
                        <span>+$285M</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">å–å¼•æ‰€BTCæ®‹é«˜</span>
                        <span>-12,000 BTC</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">é•·æœŸä¿æœ‰è€…æ¯”ç‡</span>
                        <span>67.2% â†‘</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">ãƒãƒƒã‚·ãƒ¥ãƒ¬ãƒ¼ãƒˆ</span>
                        <span>420 EH/s</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    ETFã¸ã®å¤§è¦æ¨¡ãªè³‡é‡‘æµå…¥ã¨å–å¼•æ‰€ã‹ã‚‰ã®BTCæµå‡ºãŒåŒæ™‚ã«èµ·ãã¦ãŠã‚Šã€éœ€çµ¦ãƒãƒ©ãƒ³ã‚¹ã¯æ¥µã‚ã¦è‰¯å¥½ã§ã™ã€‚é•·æœŸä¿æœ‰è€…ã®å¢—åŠ ã¯å£²ã‚Šåœ§åŠ›ã®ä½ä¸‹ã‚’æ„å‘³ã—ã€ä¸­æœŸçš„ãªä¾¡æ ¼ä¸Šæ˜‡ã‚’å¼·ãæ”¯æŒã—ã¾ã™ã€‚
                </div>
            </div>

            <!-- ãƒã‚¯ãƒ­ç’°å¢ƒ -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">ãƒã‚¯ãƒ­ç’°å¢ƒ</span>
                    <span style="font-size: 24px; font-weight: bold; color: #00ff00;">+60</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 60%; background: linear-gradient(to right, #00d4ff, #00ff00); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">é‡‘åˆ©ä½ä¸‹è¦‹é€šã—ã€ç·©å’Œçš„</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">æ”¿ç­–é‡‘åˆ©</span>
                        <span>5.25% (æ¨ªã°ã„)</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">CPIå‰å¹´æ¯”</span>
                        <span>3.2% â†“</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">æ¬¡å›FOMCäºˆæƒ³</span>
                        <span>æ®ãˆç½®ã 85%</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    ã‚¤ãƒ³ãƒ•ãƒ¬ç‡ã®ä½ä¸‹ã«ã‚ˆã‚Šåˆ©ä¸Šã’ã‚µã‚¤ã‚¯ãƒ«ã¯çµ‚äº†å±€é¢ã«ã‚ã‚Šã€å¸‚å ´ã¯æ¬¡ã®åˆ©ä¸‹ã’ã‚’ç¹”ã‚Šè¾¼ã¿å§‹ã‚ã¦ã„ã¾ã™ã€‚ã“ã®é‡‘èæ”¿ç­–ã®è»¢æ›æœŸå¾…ã¯ãƒªã‚¹ã‚¯è³‡ç”£å…¨èˆ¬ã«ã¨ã£ã¦è¿½ã„é¢¨ã¨ãªã£ã¦ã„ã¾ã™ã€‚
                </div>
            </div>

            <!-- å¸‚å ´å¿ƒç† -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">å¸‚å ´å¿ƒç†</span>
                    <span style="font-size: 24px; font-weight: bold; color: #ffdd00;">+40</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 40%; background: linear-gradient(to right, #00d4ff, #00ff00); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">æ¥½è¦³å„ªå‹¢ã€éç†±æ„Ÿãªã—</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">Fear & Greed</span>
                        <span>68 (è²ªæ¬²)</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">SNSã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ</span>
                        <span>72% ãƒã‚¸ãƒ†ã‚£ãƒ–</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    å¸‚å ´ã¯æ¥½è¦³çš„ã§ã™ãŒæ¥µç«¯ãªéç†±æ„Ÿã¯ãªãã€å¥å…¨ãªä¸Šæ˜‡å±€é¢ã«ã‚ã‚Šã¾ã™ã€‚SNSã§ã®ãƒã‚¸ãƒ†ã‚£ãƒ–ãªè­°è«–ãŒç¶™ç¶šã—ã¦ãŠã‚Šã€æ–°è¦å‚åŠ è€…ã®æµå…¥ãŒæœŸå¾…ã§ãã‚‹çŠ¶æ³ã§ã™ã€‚
                </div>
            </div>

            <!-- ãƒã‚¸ã‚·ãƒ§ãƒ³æ§‹é€  -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">ãƒã‚¸ã‚·ãƒ§ãƒ³æ§‹é€ </span>
                    <span style="font-size: 24px; font-weight: bold; color: #ff6b6b;">-20</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 20%; background: linear-gradient(to right, #ff3b3b, #ff6b6b); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">ãƒ­ãƒ³ã‚°åã‚Šã€èª¿æ•´ãƒªã‚¹ã‚¯ã‚ã‚Š</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">ãƒ­ãƒ³ã‚°/ã‚·ãƒ§ãƒ¼ãƒˆæ¯”</span>
                        <span>1.85</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">Funding Rate</span>
                        <span>0.025%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">OIå¢—æ¸›</span>
                        <span>+8.5%</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    ãƒ­ãƒ³ã‚°ãƒã‚¸ã‚·ãƒ§ãƒ³ã®åã‚ŠãŒè¦‹ã‚‰ã‚Œã€æ€¥è½æ™‚ã«ã¯æ¸…ç®—ã«ã‚ˆã‚‹ä¸‹è½åŠ é€Ÿã®ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—Funding Rateã¯æ¥µç«¯ã§ã¯ãªãã€ç¾æ™‚ç‚¹ã§ã¯ç®¡ç†å¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã«ç•™ã¾ã£ã¦ã„ã¾ã™ã€‚
                </div>
            </div>

            <!-- ã‚¯ã‚¸ãƒ©å‹•å‘ -->
            <div style="background: #1a2332; border-radius: 15px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #00d4ff;">ã‚¯ã‚¸ãƒ©å‹•å‘</span>
                    <span style="font-size: 24px; font-weight: bold; color: #00ff00;">+55</span>
                </div>
                <div style="background: #0f1722; height: 30px; border-radius: 15px; overflow: hidden; margin-bottom: 10px;">
                    <div style="height: 100%; width: 55%; background: linear-gradient(to right, #00d4ff, #00ff00); transition: width 0.5s;"></div>
                </div>
                <div style="color: #7a8a9a; font-size: 14px; margin-bottom: 15px;">å¤§å£è“„ç©ãƒ•ã‚§ãƒ¼ã‚º</div>
                <div style="border-top: 1px solid #2a3a4a; padding-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">1000BTC+ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ</span>
                        <span>+2.3%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #0f1722; font-size: 14px;">
                        <span style="color: #7a8a9a;">å¤§å£ç§»å‹•</span>
                        <span>é€šå¸¸ãƒ¬ãƒ™ãƒ«</span>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: #0f1722; border-radius: 10px; font-size: 14px; line-height: 1.6; color: #c9d1d9;">
                    ã‚¯ã‚¸ãƒ©ï¼ˆå¤§å£ä¿æœ‰è€…ï¼‰ã¯ç€å®Ÿã«BTCã‚’è“„ç©ã—ã¦ãŠã‚Šã€å£²å´ã®å…†å€™ã¯è¦‹ã‚‰ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯é•·æœŸçš„ãªä¾¡æ ¼ä¸Šæ˜‡ã¸ã®ç¢ºä¿¡ã‚’ç¤ºã—ã¦ãŠã‚Šã€ç›¸å ´ã®åº•å …ã•ã‚’æ”¯ãˆã¦ã„ã¾ã™ã€‚
                </div>
            </div>
        </div>

        <!-- å…è²¬äº‹é … -->
        <div class="disclaimer">
            <h3>é‡è¦ãªå…è²¬äº‹é …</h3>
            <ul>
                <li><strong>æœ¬ãƒ„ãƒ¼ãƒ«ã¯æƒ…å ±æä¾›ãŠã‚ˆã³æ•™è‚²ç›®çš„ã®ã¿</strong>ã§ã‚ã‚Šã€æŠ•è³‡åŠ©è¨€ã‚„æŠ•è³‡å‹§èª˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
                <li><strong>æŠ•è³‡ã®æœ€çµ‚åˆ¤æ–­ã¯å¿…ãšã”è‡ªèº«ã§è¡Œã£ã¦ãã ã•ã„ã€‚</strong>å½“ãƒ„ãƒ¼ãƒ«ã®æƒ…å ±ã«åŸºã¥ãæŠ•è³‡åˆ¤æ–­ã®è²¬ä»»ã¯ä¸€åˆ‡è² ã„ã¾ã›ã‚“ã€‚</li>
                <li>è¡¨ç¤ºã•ã‚Œã‚‹ã‚¹ã‚³ã‚¢ã‚„åˆ†æçµæœã¯éå»ã®ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãçµ±è¨ˆçš„åˆ†æã§ã‚ã‚Šã€å°†æ¥ã®ä¾¡æ ¼å‹•å‘ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
                <li>æš—å·è³‡ç”£æŠ•è³‡ã«ã¯ä¾¡æ ¼å¤‰å‹•ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã€æŠ•è³‡å…ƒæœ¬ã‚’å‰²ã‚Šè¾¼ã‚€å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</li>
                <li>å½“ãƒ„ãƒ¼ãƒ«ã®ã”åˆ©ç”¨ã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚</li>
            </ul>
        </div>

    </div>

    
    <script>
        let selectedDirection = null;
        let selectedTpPips = 50;
        let selectedSlPips = 20;
        let currentCredits = 100; // ç¾åœ¨ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ•°
        let maxCredits = 300;     // æœ€å¤§ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ•°

        // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateCreditDisplay() {
            const creditDisplay = document.getElementById('creditDisplay');
            if (creditDisplay) {
                creditDisplay.textContent = `${currentCredits}/${maxCredits}`;
                
                // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ®‹é‡ã«å¿œã˜ã¦è‰²ã‚’å¤‰æ›´
                if (currentCredits <= 10) {
                    creditDisplay.style.color = '#ff3b3b'; // èµ¤è‰²ï¼ˆæ®‹ã‚Šå°‘ãªã„ï¼‰
                } else if (currentCredits <= 25) {
                    creditDisplay.style.color = '#ffdd00'; // é»„è‰²ï¼ˆæ³¨æ„ï¼‰
                } else {
                    creditDisplay.style.color = '#00d4ff'; // é€šå¸¸ã®é’è‰²
                }
                
                console.log(`Credits updated: ${currentCredits}/${maxCredits}`);
            }
        }

        // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’æ¶ˆè²»ã™ã‚‹é–¢æ•°
        function consumeCredit() {
            if (currentCredits > 0) {
                currentCredits--;
                updateCreditDisplay();
                
                // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒå°‘ãªããªã£ãŸå ´åˆã®è­¦å‘Š
                if (currentCredits === 10) {
                    setTimeout(() => {
                        alert('âš ï¸ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ®‹é‡ãŒ10ã«ãªã‚Šã¾ã—ãŸã€‚è¿½åŠ è³¼å…¥ã‚’ãŠè€ƒãˆãã ã•ã„ã€‚');
                    }, 1000);
                } else if (currentCredits === 0) {
                    setTimeout(() => {
                        alert('âŒ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚è¿½åŠ è³¼å…¥ãŒå¿…è¦ã§ã™ã€‚');
                    }, 1000);
                }
                
                return true; // æ¶ˆè²»æˆåŠŸ
            }
            return false; // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆä¸è¶³
        }

        // æ–¹å‘æ€§ã‚¹ã‚³ã‚¢ã®å‹•çš„æ›´æ–°ï¼ˆãƒ‡ãƒ¢ç”¨ï¼‰
        setInterval(() => {
            const score = Math.floor(Math.random() * 100) - 50;
            updateScore(score);
        }, 5000);

        function updateScore(score) {
            const scoreElement = document.getElementById('scoreValue');
            const meterValue = document.getElementById('meterValue');
            
            // ã‚¹ã‚³ã‚¢è¡¨ç¤ºæ›´æ–°ï¼ˆè¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ï¼‰
            if (scoreElement) {
                scoreElement.textContent = score > 0 ? `+${score}` : score;
            }
            
            // è‰²ã®æ›´æ–°ï¼ˆè¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ï¼‰
            if (scoreElement) {
                if (score > 20) {
                    scoreElement.className = 'score-display score-positive';
                } else if (score < -20) {
                    scoreElement.className = 'score-display score-negative';
                } else {
                    scoreElement.className = 'score-display';
                    scoreElement.style.color = '#ffdd00';
                }
            }
            
            // ãƒ¡ãƒ¼ã‚¿ãƒ¼ä½ç½®æ›´æ–°ï¼ˆè¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ï¼‰
            if (meterValue) {
                const position = ((score + 100) / 200) * 100;
                meterValue.style.left = position + '%';
            }
        }

        function selectDirection(direction) {
            selectedDirection = direction;
            
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.dir-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (direction === 'buy') {
                document.querySelector('.dir-btn.buy').classList.add('active');
            } else {
                document.querySelector('.dir-btn.sell').classList.add('active');
            }
            
            // è¨ˆç®—ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            document.getElementById('calcButton').disabled = false;
        }


        function updateRiskReward() {
            const ratio = selectedTpPips / selectedSlPips;
            const formattedRatio = ratio % 1 === 0 ? ratio.toString() : ratio.toFixed(1);
            document.getElementById('riskRewardRatio').textContent = formattedRatio + ' : 1';
        }

        function calculatePatternAnalysis() {
            if (!selectedDirection) {
                console.log('No direction selected');
                return;
            }
            
            // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆç¢ºèª
            if (currentCredits <= 0) {
                alert('âŒ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆæ®‹é‡ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚è¿½åŠ è³¼å…¥ãŒå¿…è¦ã§ã™ã€‚');
                return;
            }
            
            console.log('Starting analysis...');
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã‚’è¡¨ç¤º
            document.getElementById('simulationContent').style.display = 'none';
            document.getElementById('loadingScreen').style.display = 'block';
            
            // åˆ†æãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            document.getElementById('calcButton').disabled = true;
            document.getElementById('calcButton').style.opacity = '0.6';
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å¾Œã®å‡¦ç†ã‚’4ç§’å¾Œã«å®Ÿè¡Œ
            setTimeout(() => {
                console.log('Timeout finished, calling performAnalysis');
                performAnalysis();
            }, 4000);
        }
        
        function performAnalysis() {
            try {
                console.log('performAnalysis started');
                
                // ç¾åœ¨ã¯å›ºå®šçš„ãªã‚¹ã‚³ã‚¢ã‚’ä½¿ç”¨ï¼ˆå¾Œã§å®Ÿéš›ã®ã‚¹ã‚³ã‚¢APIã¨é€£æºäºˆå®šï¼‰
                const currentScore = Math.floor(Math.random() * 200 - 100); // -100ã‹ã‚‰100ã®ç¯„å›²
                console.log('Using score:', currentScore);
                let baseTpRate = 50;
                
                // æ–¹å‘æ€§ã¨ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ãŒä¸€è‡´ã—ã¦ã„ã‚‹å ´åˆã®ãƒ‘ã‚¿ãƒ¼ãƒ³èª¿æ•´
                if ((selectedDirection === 'buy' && currentScore > 0) || 
                    (selectedDirection === 'sell' && currentScore < 0)) {
                    baseTpRate += Math.abs(currentScore) * 0.3;
                } else {
                    baseTpRate -= Math.abs(currentScore) * 0.2;
                }
                
                // TPå¹…ã«ã‚ˆã‚‹éå»ãƒ‘ã‚¿ãƒ¼ãƒ³èª¿æ•´
                const tpAdjustment = Math.max(-20, Math.min(15, (30 - selectedTpPips) * 0.5));
                baseTpRate += tpAdjustment;
                
                // SLå¹…ã«ã‚ˆã‚‹éå»ãƒ‘ã‚¿ãƒ¼ãƒ³èª¿æ•´
                const slAdjustment = Math.max(-15, Math.min(20, (selectedSlPips - 30) * 0.3));
                baseTpRate += slAdjustment;
                
                // ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è‡´ç‡ã‚’10-90ã®ç¯„å›²ã«åã‚ã‚‹
                baseTpRate = Math.max(10, Math.min(90, baseTpRate));
                const baseSlRate = 100 - baseTpRate;
            
            // çµæœã‚’è¡¨ç¤º
            const tpRate = Math.round(baseTpRate);
            const slRate = Math.round(baseSlRate);
            
            console.log('Updating results:', { tpRate, slRate });
            
            // è¦ç´ ã®å­˜åœ¨ç¢ºèªã‚’ã—ã¦å®‰å…¨ã«æ›´æ–°
            const tpRateEl = document.getElementById('tpRate');
            const slRateEl = document.getElementById('slRate');
            
            if (tpRateEl) tpRateEl.textContent = tpRate + '%';
            if (slRateEl) slRateEl.textContent = slRate + '%';
            
            // è¡¨ç¤ºç”¨pipså€¤ã‚’æ›´æ–°ï¼ˆè¦ç´ ãŒå­˜åœ¨ã™ã‚‹å ´åˆã®ã¿ï¼‰
            const tpPipsDisplayEl = document.getElementById('tpPipsDisplay');
            const slPipsDisplayEl = document.getElementById('slPipsDisplay');
            
            if (tpPipsDisplayEl) tpPipsDisplayEl.textContent = selectedTpPips + ' pips';
            if (slPipsDisplayEl) slPipsDisplayEl.textContent = selectedSlPips + ' pips';
            
            // ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’è¨ˆç®—
            const expectedValue = ((selectedTpPips * tpRate / 100) - (selectedSlPips * slRate / 100)).toFixed(1);
            const expectedValueEl = document.getElementById('expectedValue');
            if (expectedValueEl) expectedValueEl.textContent = (expectedValue > 0 ? '+' : '') + expectedValue + ' pips';
            
            // ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰åˆ†æã‚’æ›´æ–°
            const rrRatio = selectedTpPips / selectedSlPips;
            const formattedRrRatio = rrRatio % 1 === 0 ? rrRatio.toString() : rrRatio.toFixed(1);
            const rrAnalysisEl = document.getElementById('rrAnalysis');
            if (rrAnalysisEl) rrAnalysisEl.textContent = formattedRrRatio + ':1';
            
                // ç¾åœ¨ä¾¡æ ¼ã¨TP/SLä¾¡æ ¼ã‚’è¨ˆç®—ãƒ»è¡¨ç¤º
                updateResultPrices();
                
                // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã‚’éè¡¨ç¤ºã«ã—ã¦çµæœã®ã¿ã‚’è¡¨ç¤º
                console.log('Hiding loading screen and showing results only');
                
                const loadingScreen = document.getElementById('loadingScreen');
                const simulationContent = document.getElementById('simulationContent');
                const resultSection = document.getElementById('resultSection');
                
                console.log('Elements found:', {
                    loadingScreen: !!loadingScreen,
                    simulationContent: !!simulationContent, 
                    resultSection: !!resultSection
                });
                
                if (loadingScreen) loadingScreen.style.display = 'none';
                if (simulationContent) simulationContent.style.display = 'none';
                
                // è¦ªè¦ç´ ã‚‚ç¢ºèªãƒ»è¨­å®š
                const userSelection = document.getElementById('userSelection');
                if (userSelection) {
                    userSelection.style.display = 'block';
                    userSelection.style.visibility = 'visible';
                    console.log('User selection parent visible');
                    console.log('User selection dimensions:', userSelection.offsetWidth, 'x', userSelection.offsetHeight);
                    console.log('User selection children count:', userSelection.children.length);
                    
                    // å®Ÿéš›ã®åˆ†æãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                    const currentPriceEl = document.getElementById('currentBtcPrice');
                    const currentPrice = currentPriceEl ? 
                        parseFloat(currentPriceEl.textContent.replace(/[$,]/g, '')) || 90500 : 90500;
                    
                    // TP/SLä¾¡æ ¼ã‚’è¨ˆç®—
                    let tpPrice, slPrice;
                    if (selectedDirection === 'buy') {
                        tpPrice = currentPrice + selectedTpPips;
                        slPrice = currentPrice - selectedSlPips;
                    } else {
                        tpPrice = currentPrice - selectedTpPips;
                        slPrice = currentPrice + selectedSlPips;
                    }
                    
                    // æ–°ã—ã„çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ
                    const newResultDiv = document.createElement('div');
                    newResultDiv.id = 'dynamicResultSection';
                    newResultDiv.innerHTML = `
                        <div style="padding: 20px; background: #1a2332; border-radius: 15px;">
                            <h3 style="text-align: center; color: #00d4ff; margin-bottom: 20px; font-size: 18px;">
                                åˆ†æçµæœ
                            </h3>
                            
                            <!-- ç¾åœ¨ä¾¡æ ¼è¡¨ç¤º -->
                            <div style="background: #0f1722; border-radius: 8px; padding: 16px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                                <div style="color: #7a8a9a; font-size: 12px;">ç¾åœ¨ã®BTC/USDä¾¡æ ¼(Coinbase)</div>
                                <div style="color: #00d4ff; font-size: 24px; font-weight: 700;">$${currentPrice.toLocaleString()}</div>
                            </div>
                            
                            <!-- TP/SLä¾¡æ ¼è¡¨ç¤º -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                                <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                                    <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">åˆ©ç¢ºä¾¡æ ¼ (TP)</div>
                                    <div style="font-size: 16px; font-weight: 700; color: #00ff00;">$${Math.round(tpPrice).toLocaleString()}</div>
                                    <div style="color: #7a8a9a; font-size: 11px;">${selectedTpPips} pips</div>
                                </div>
                                <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                                    <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">æåˆ‡ä¾¡æ ¼ (SL)</div>
                                    <div style="font-size: 16px; font-weight: 700; color: #ff3b3b;">$${Math.round(slPrice).toLocaleString()}</div>
                                    <div style="color: #7a8a9a; font-size: 11px;">${selectedSlPips} pips</div>
                                </div>
                            </div>
                            
                            <!-- TP/SLåˆ°é”ç‡ -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                <div style="background: #0f1722; padding: 20px; border-radius: 12px; text-align: center;">
                                    <h4 style="color: #00d4ff; margin-bottom: 10px; font-size: 14px;">ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ°é”ãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
                                    <div style="color: #00ff00; font-size: 36px; font-weight: bold;">${tpRate}%</div>
                                </div>
                                <div style="background: #0f1722; padding: 20px; border-radius: 12px; text-align: center;">
                                    <h4 style="color: #00d4ff; margin-bottom: 10px; font-size: 14px;">ã‚¹ãƒˆãƒƒãƒ—åˆ°é”ãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
                                    <div style="color: #ff3b3b; font-size: 36px; font-weight: bold;">${slRate}%</div>
                                </div>
                            </div>
                            
                            <!-- è©³ç´°åˆ†æ -->
                            <div style="background: #0f1722; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                                <h4 style="color: #00d4ff; margin-bottom: 12px; font-size: 14px;">è©³ç´°åˆ†æ</h4>
                                <div style="display: grid; gap: 8px; color: #c9d1d9; font-size: 12px;">
                                    <div>â€¢ éå»ãƒ‡ãƒ¼ã‚¿ä»¶æ•°: <span style="color: #00d4ff;">152ä»¶</span></div>
                                    <div>â€¢ ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è‡´: <span style="color: #00ff00;">â—‹</span></div>
                                    <div>â€¢ ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”: <span style="color: #00d4ff;">${(selectedTpPips/selectedSlPips).toFixed(1)}:1</span></div>
                                    <div>â€¢ æœŸå¾…å€¤: <span style="color: #00d4ff;">${expectedValue > 0 ? '+' : ''}${expectedValue} pips</span></div>
                                    <div>â€¢ äºˆæƒ³æ™‚é–“: <span style="color: #00d4ff;">ç´„2.5æ™‚é–“</span></div>
                                </div>
                            </div>
                            
                            <!-- æ–°è¦åˆ†æãƒœã‚¿ãƒ³ -->
                            <button onclick="resetToSimulation()" style="width: 100%; padding: 12px; background: #2a3a4a; color: #ffffff; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.3s;" 
                                    onmouseover="this.style.background='#3a4a5a'" onmouseout="this.style.background='#2a3a4a'">
                                æ–°ã—ã„åˆ†æã‚’å®Ÿè¡Œ
                            </button>
                        </div>
                    `;
                    
                    // æ—¢å­˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‰Šé™¤ã—ã¦æ–°ã—ã„çµæœã‚’è¿½åŠ 
                    userSelection.innerHTML = '';
                    userSelection.appendChild(newResultDiv);
                    
                    console.log('Dynamic result section created');
                }
                
                // åˆ†æå®Œäº†æ™‚ã«ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’æ¶ˆè²»
                consumeCredit();
                
                // åˆ†æãƒœã‚¿ãƒ³ã‚’å†åº¦æœ‰åŠ¹åŒ–
                document.getElementById('calcButton').disabled = false;
                document.getElementById('calcButton').style.opacity = '1';
                
                console.log('Analysis complete');
                
            } catch (error) {
                console.error('Error in performAnalysis:', error);
                
                // ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã§ã‚‚ç”»é¢ã‚’å¾©æ—§
                document.getElementById('loadingScreen').style.display = 'none';
                document.getElementById('simulationContent').style.display = 'block';
                document.getElementById('calcButton').disabled = false;
                document.getElementById('calcButton').style.opacity = '1';
                
                alert('åˆ†æä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
            }
        }
        
        // çµæœç”»é¢ã®ä¾¡æ ¼æƒ…å ±ã‚’æ›´æ–°
        function updateResultPrices() {
            console.log('updateResultPrices called');
            
            const currentPriceEl = document.getElementById('currentBtcPrice');
            const resultCurrentPriceEl = document.getElementById('resultCurrentPrice');
            
            console.log('Price elements found:', {
                currentPriceEl: !!currentPriceEl,
                resultCurrentPriceEl: !!resultCurrentPriceEl
            });
            
            const currentPrice = currentPriceEl ? 
                parseFloat(currentPriceEl.textContent.replace(/[$,]/g, '')) || 90500 : 90500;
            
            console.log('Using current price:', currentPrice);
            
            // ç¾åœ¨ä¾¡æ ¼ã‚’è¡¨ç¤º
            if (resultCurrentPriceEl) {
                resultCurrentPriceEl.textContent = '$' + currentPrice.toLocaleString();
            }
            
            // TP/SLä¾¡æ ¼ã‚’è¨ˆç®—
            let tpPrice, slPrice;
            if (selectedDirection === 'buy') {
                tpPrice = currentPrice + selectedTpPips;
                slPrice = currentPrice - selectedSlPips;
            } else {
                tpPrice = currentPrice - selectedTpPips;
                slPrice = currentPrice + selectedSlPips;
            }
            
            console.log('Calculated prices:', { tpPrice, slPrice, selectedDirection, selectedTpPips, selectedSlPips });
            
            // çµæœç”»é¢ã«ä¾¡æ ¼ã‚’è¡¨ç¤º
            const resultTpPriceEl = document.getElementById('resultTpPrice');
            const resultSlPriceEl = document.getElementById('resultSlPrice');
            const resultTpPipsEl = document.getElementById('resultTpPips');
            const resultSlPipsEl = document.getElementById('resultSlPips');
            
            if (resultTpPriceEl) resultTpPriceEl.textContent = '$' + Math.round(tpPrice).toLocaleString();
            if (resultSlPriceEl) resultSlPriceEl.textContent = '$' + Math.round(slPrice).toLocaleString();
            if (resultTpPipsEl) resultTpPipsEl.textContent = selectedTpPips + ' pips';
            if (resultSlPipsEl) resultSlPipsEl.textContent = selectedSlPips + ' pips';
            
            console.log('Price display updated');
        }
        
        // ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”»é¢ã«æˆ»ã‚‹
        function resetToSimulation() {
            console.log('Resetting to simulation screen');
            
            const userSelection = document.getElementById('userSelection');
            if (userSelection) {
                // userSelectionã®å†…å®¹ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã€å…ƒã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”»é¢ã‚’å†æ§‹ç¯‰
                userSelection.innerHTML = `
                    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
                    <div class="loading-screen" id="loadingScreen" style="display: none;">
                        <div style="text-align: center; padding: 60px 20px;">
                            <div class="loading-spinner">
                                <div class="spinner"></div>
                            </div>
                            <div style="color: #00d4ff; font-size: 18px; font-weight: 600; margin-top: 20px;">
                                åˆ†æä¸­...
                            </div>
                            <div style="color: #7a8a9a; font-size: 13px; margin-top: 8px;">
                                å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦ã„ã¾ã™
                            </div>
                            <div class="loading-progress">
                                <div class="progress-bar"></div>
                            </div>
                            <div style="color: #7a8a9a; font-size: 12px; margin-top: 20px;">
                                ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ã¯æ•°ç§’ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
                            </div>
                        </div>
                    </div>
                    
                    <!-- ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆé€šå¸¸ç”»é¢ï¼‰ -->
                    <div class="simulation-content" id="simulationContent">
                    
                    <!-- ç¾åœ¨ä¾¡æ ¼è¡¨ç¤º -->
                    <div style="background: #0f1722; border-radius: 8px; padding: 16px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                        <div style="color: #7a8a9a; font-size: 12px;">ç¾åœ¨ã®BTC/USDä¾¡æ ¼(Coinbase)</div>
                        <div style="color: #00d4ff; font-size: 24px; font-weight: 700;" id="currentBtcPrice">$--,---</div>
                    </div>
                    
                    <!-- æ–¹å‘é¸æŠ -->
                    <div class="direction-buttons">
                        <button class="dir-btn buy" onclick="selectDirection('buy')">
                            <span style="font-size: 18px; margin-right: 8px;">â†‘</span>
                            <span style="font-size: 14px;">è²·ã„</span>
                        </button>
                        <button class="dir-btn sell" onclick="selectDirection('sell')">
                            <span style="font-size: 18px; margin-right: 8px;">â†“</span>
                            <span style="font-size: 14px;">å£²ã‚Š</span>
                        </button>
                    </div>

                    <!-- TP/SL Pipsé¸æŠ -->
                    <div class="pips-selection">
                        <!-- TPè¨­å®š -->
                        <div style="margin-bottom: 16px;">
                            <div class="pips-label">
                                <span style="color: #7a8a9a; font-size: 13px;">åˆ©ç¢ºå¹…ï¼ˆTPï¼‰</span>
                                <span class="pips-value" id="tpPipsValue" style="font-size: 14px; font-weight: 600;">100 pips</span>
                            </div>
                            <div style="background: #0a0e1a; border-radius: 6px; padding: 8px; margin-bottom: 8px; text-align: center;">
                                <div style="color: #7a8a9a; font-size: 11px;">ç›®æ¨™ä¾¡æ ¼</div>
                                <div style="color: #00ff00; font-size: 16px; font-weight: 600;" id="tpPriceLevel">$--,---</div>
                            </div>
                            <div class="slider-container">
                                <div class="slider-progress" id="tpProgressBar"></div>
                                <input type="range" class="pips-slider" id="tpPipsSlider" 
                                       min="100" max="10000" value="100" step="100"
                                       oninput="updateTpPips(this.value)" 
                                       onchange="updateTpPips(this.value)">
                            </div>
                            <div class="slider-labels">
                                <span>100</span>
                                <span>2500</span>
                                <span>5000</span>
                                <span>7500</span>
                                <span>10000</span>
                            </div>
                        </div>

                        <!-- SLè¨­å®š -->
                        <div style="margin-bottom: 16px;">
                            <div class="pips-label">
                                <span style="color: #7a8a9a; font-size: 13px;">æåˆ‡ã‚Šå¹…ï¼ˆSLï¼‰</span>
                                <span class="pips-value" id="slPipsValue" style="font-size: 14px; font-weight: 600;">100 pips</span>
                            </div>
                            <div style="background: #0a0e1a; border-radius: 6px; padding: 8px; margin-bottom: 8px; text-align: center;">
                                <div style="color: #7a8a9a; font-size: 11px;">ã‚¹ãƒˆãƒƒãƒ—ä¾¡æ ¼</div>
                                <div style="color: #ff3b3b; font-size: 16px; font-weight: 600;" id="slPriceLevel">$--,---</div>
                            </div>
                            <div class="slider-container">
                                <div class="slider-progress" id="slProgressBar"></div>
                                <input type="range" class="pips-slider" id="slPipsSlider" 
                                       min="100" max="10000" value="100" step="100"
                                       oninput="updateSlPips(this.value)" 
                                       onchange="updateSlPips(this.value)">
                            </div>
                            <div class="slider-labels">
                                <span>100</span>
                                <span>2500</span>
                                <span>5000</span>
                                <span>7500</span>
                                <span>10000</span>
                            </div>
                        </div>

                        <!-- ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰è¡¨ç¤º -->
                        <div style="background: #0f1722; padding: 12px; border-radius: 8px; text-align: center; border: 1px solid rgba(42, 58, 74, 0.4);">
                            <div style="color: #7a8a9a; font-size: 12px; margin-bottom: 4px;">ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”</div>
                            <div style="font-size: 18px; font-weight: 700; color: #00d4ff;" id="riskRewardRatio">1.0 : 1</div>
                        </div>
                    </div>

                    <button class="calc-button" id="calcButton" onclick="calculatePatternAnalysis()" disabled style="padding: 14px; font-size: 15px; font-weight: 600; margin-bottom: 16px;">
                        åˆ†æå®Ÿè¡Œ
                        <div style="font-size: 11px; font-weight: 400; color: #ffffff; margin-top: 2px;">1ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãŒæ¶ˆè²»ã•ã‚Œã¾ã™</div>
                    </button>
                    </div>
                `;
                
                // é¸æŠçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
                selectedDirection = null;
                selectedTpPips = 100;
                selectedSlPips = 100;
                
                // ä¾¡æ ¼ã¨ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”ã‚’å†åˆæœŸåŒ–
                setTimeout(() => {
                    updateTpPips(100);
                    updateSlPips(100);
                    updateRiskRewardRatio();
                }, 100);
                
                console.log('Simulation screen restored');
            }
        }
        
        // è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        function switchLanguage(lang) {
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (lang === 'ja') {
                document.querySelector('.lang-btn[onclick*="ja"]').classList.add('active');
                // æ—¥æœ¬èªè¡¨ç¤ºã®å‡¦ç†ï¼ˆç¾åœ¨ã¯æ—¥æœ¬èªãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
            } else {
                document.querySelector('.lang-btn[onclick*="en"]').classList.add('active');
                // è‹±èªè¡¨ç¤ºã®å‡¦ç†ï¼ˆå°†æ¥çš„ã«å®Ÿè£…ï¼‰
                alert('English language support coming soon!');
            }
        }

        // ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰æ©Ÿèƒ½
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            
            sidebar.classList.toggle('open');
            overlay.classList.toggle('active');
        }

        // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰æ©Ÿèƒ½
        function toggleUserMenu(button) {
            const dropdown = button.nextElementSibling;
            const isOpen = dropdown.classList.contains('show');
            
            // ä»–ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹
            document.querySelectorAll('.user-dropdown').forEach(d => {
                d.classList.remove('show');
            });
            document.querySelectorAll('.user-menu-btn').forEach(b => {
                b.classList.remove('active');
            });
            
            if (!isOpen) {
                dropdown.classList.add('show');
                button.classList.add('active');
            }
        }

        // ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰æ©Ÿèƒ½
        function toggleSubmenu(element) {
            event.preventDefault();
            
            const submenu = element.nextElementSibling;
            const toggle = element.querySelector('.sidebar-toggle');
            
            if (submenu && submenu.classList.contains('sidebar-submenu')) {
                submenu.classList.toggle('open');
                toggle.classList.toggle('open');
            }
        }

        // ESCã‚­ãƒ¼ã§ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‰ã˜ã‚‹
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.querySelector('.sidebar-overlay');
                
                if (sidebar.classList.contains('open')) {
                    sidebar.classList.remove('open');
                    overlay.classList.remove('active');
                }
            }
        });

        // ç”»é¢å¤–ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.user-menu')) {
                document.querySelectorAll('.user-dropdown').forEach(d => {
                    d.classList.remove('show');
                });
                document.querySelectorAll('.user-menu-btn').forEach(b => {
                    b.classList.remove('active');
                });
            }
        });

        // åˆæœŸåŒ–æ™‚ã«ãƒªã‚¹ã‚¯ãƒªãƒ¯ãƒ¼ãƒ‰æ¯”ã¨ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’è¨­å®š
        updateRiskReward();
        
        // åˆæœŸãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®è¨­å®š
        const initialTpProgress = ((selectedTpPips - 10) / (100 - 10)) * 100;
        const initialSlProgress = ((selectedSlPips - 10) / (100 - 10)) * 100;
        document.getElementById('tpPipsSlider').style.setProperty('--progress', initialTpProgress + '%');
        document.getElementById('slPipsSlider').style.setProperty('--progress', initialSlProgress + '%');

        // BTCä¾¡æ ¼ç®¡ç†
        let currentBtcPrice = 0;

        // Coinbase Pro APIã‹ã‚‰BTCä¾¡æ ¼ã‚’å–å¾—
        async function fetchBtcPrice() {
            try {
                const response = await fetch('https://api.exchange.coinbase.com/products/BTC-USD/ticker');
                const data = await response.json();
                const price = parseFloat(data.price);
                
                if (price && price > 0) {
                    currentBtcPrice = price;
                    document.getElementById('currentBtcPrice').textContent = '$' + price.toLocaleString('en-US', {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    });
                    
                    // ä¾¡æ ¼ãƒ¬ãƒ™ãƒ«ã‚’æ›´æ–°
                    updatePriceLevels();
                } else {
                    console.error('Invalid price data received');
                }
            } catch (error) {
                console.error('Error fetching BTC price:', error);
                document.getElementById('currentBtcPrice').textContent = '$--,---';
            }
        }

        // ä¾¡æ ¼ãƒ¬ãƒ™ãƒ«ã‚’è¨ˆç®—ã—ã¦æ›´æ–°
        function updatePriceLevels() {
            if (currentBtcPrice <= 0 || !selectedDirection) {
                document.getElementById('tpPriceLevel').textContent = '$--,---';
                document.getElementById('slPriceLevel').textContent = '$--,---';
                return;
            }

            let tpPrice, slPrice;
            
            if (selectedDirection === 'buy') {
                // è²·ã„ã®å ´åˆï¼šTP = ç¾åœ¨ä¾¡æ ¼ + TP pips, SL = ç¾åœ¨ä¾¡æ ¼ - SL pips
                tpPrice = currentBtcPrice + selectedTpPips;
                slPrice = currentBtcPrice - selectedSlPips;
            } else {
                // å£²ã‚Šã®å ´åˆï¼šTP = ç¾åœ¨ä¾¡æ ¼ - TP pips, SL = ç¾åœ¨ä¾¡æ ¼ + SL pips
                tpPrice = currentBtcPrice - selectedTpPips;
                slPrice = currentBtcPrice + selectedSlPips;
            }

            // ä¾¡æ ¼ã‚’è¡¨ç¤ºï¼ˆå°æ•°ç‚¹2æ¡è¡¨ç¤ºï¼‰
            document.getElementById('tpPriceLevel').textContent = '$' + tpPrice.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            document.getElementById('slPriceLevel').textContent = '$' + slPrice.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        // updateTpPipsé–¢æ•°ã‚’æ‹¡å¼µ
        function updateTpPips(value) {
            selectedTpPips = parseInt(value);
            document.getElementById('tpPipsValue').textContent = selectedTpPips + ' pips';
            updateRiskReward();
            updatePriceLevels();
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å®Ÿéš›ã®å¹…ã‚’å–å¾—ã—ã¦ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ­£ç¢ºã«è¨ˆç®—
            const slider = document.getElementById('tpPipsSlider');
            const sliderRect = slider.getBoundingClientRect();
            const thumbWidth = 28; // ã¤ã¾ã¿ã®å¹…
            const trackWidth = sliderRect.width - thumbWidth; // å®Ÿéš›ã®ãƒˆãƒ©ãƒƒã‚¯å¹…
            
            const progress = ((selectedTpPips - 100) / (10000 - 100));
            const progressWidth = trackWidth * progress;
            
            document.getElementById('tpProgressBar').style.width = progressWidth + 'px';
        }

        // updateSlPipsé–¢æ•°ã‚’æ‹¡å¼µ
        function updateSlPips(value) {
            selectedSlPips = parseInt(value);
            document.getElementById('slPipsValue').textContent = selectedSlPips + ' pips';
            updateRiskReward();
            updatePriceLevels();
            
            // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å®Ÿéš›ã®å¹…ã‚’å–å¾—ã—ã¦ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ­£ç¢ºã«è¨ˆç®—
            const slider = document.getElementById('slPipsSlider');
            const sliderRect = slider.getBoundingClientRect();
            const thumbWidth = 28; // ã¤ã¾ã¿ã®å¹…
            const trackWidth = sliderRect.width - thumbWidth; // å®Ÿéš›ã®ãƒˆãƒ©ãƒƒã‚¯å¹…
            
            const progress = ((selectedSlPips - 100) / (10000 - 100));
            const progressWidth = trackWidth * progress;
            
            document.getElementById('slProgressBar').style.width = progressWidth + 'px';
        }

        // selectDirectioné–¢æ•°ã‚’æ‹¡å¼µ
        function selectDirection(direction) {
            selectedDirection = direction;
            
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.dir-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (direction === 'buy') {
                document.querySelector('.dir-btn.buy').classList.add('active');
            } else {
                document.querySelector('.dir-btn.sell').classList.add('active');
            }
            
            // è¨ˆç®—ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            document.getElementById('calcButton').disabled = false;
            
            // ä¾¡æ ¼ãƒ¬ãƒ™ãƒ«ã‚’æ›´æ–°
            updatePriceLevels();
        }

        // åˆæœŸåŒ–ï¼šãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’è¨­å®š
        function initializeSliders() {
            // DOMè¦ç´ ãŒå®Œå…¨ã«ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã‹ã‚‰å®Ÿè¡Œ
            setTimeout(() => {
                updateTpPips(100); // åˆæœŸå€¤100pips
                updateSlPips(100); // åˆæœŸå€¤100pips
            }, 100);
        }

        // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºæ™‚ã®å†è¨ˆç®—
        window.addEventListener('resize', () => {
            setTimeout(() => {
                updateTpPips(selectedTpPips);
                updateSlPips(selectedSlPips);
            }, 50);
        });

        // åˆæœŸåŒ–ï¼šBTCä¾¡æ ¼ã‚’å–å¾—ã—ã€å®šæœŸæ›´æ–°ã‚’é–‹å§‹
        fetchBtcPrice();
        initializeSliders();
        
        // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆè¡¨ç¤ºã‚’åˆæœŸåŒ–
        updateCreditDisplay();
        
        // 10ç§’ã”ã¨ã«ä¾¡æ ¼ã‚’æ›´æ–°ï¼ˆå–å¼•æ‰€ãƒ‡ãƒ¼ã‚¿ãªã®ã§ã‚ˆã‚Šé »ç¹ã«ï¼‰
        setInterval(fetchBtcPrice, 10000);

    </script>
</body>
</html>